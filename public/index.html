<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quicktel Bundles</title>
  <style>
    /* Styles remain the same as in the cleaned version */
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" width="120" alt="Quicktel Logo">
    <nav class="menu">
      <a href="#">Home</a>
      <a href="#" data-section="bundles">Bundles</a>
      <a href="#" data-section="minutes">Minutes</a>
      <a href="#" data-section="sms">SMS</a>
      <a href="terms.html">Terms & Conditions</a>
      <a href="privacy.html">Privacy Policy</a>
      <a href="https://wa.me/254729952483" target="_blank">Support</a>
    </nav>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header> 
 <!-- Main --> 
 <main>
    <h1>QUICKTEL BUNDLES</h1>
    <div class="card seven" data-category="bundles">
    <div class="badge">DAILY Package</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>1GB</h2>
    <p>Price: Ksh.<strong>99</strong></p>
    <div class="validity">‚è± Valid: <strong>24hrs</strong></div>
    <button onclick="openPhonePopup('1GB', 99)">Buy Now</button>
  </div>
  <div class="card two" data-category="bundles">
    <div class="badge">FASTER USE</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>500MB</h2>
    <p>Price: Ksh.<strong>20</strong></p>
    <div class="validity">‚è± Valid: <strong>3hrs</strong></div>
    <button onclick="openPhonePopup('500MB', 20)">Buy Now</button>
  </div>
  <div class="card three" data-category="bundles">
    <div class="badge">GOOD CHOICE</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>300MB</h2>
    <p>Price: Ksh.<strong>25</strong></p>
    <div class="validity">‚è± Valid: <strong>24hrs</strong></div>
    <button onclick="openPhonePopup('300MB', 25)">Buy Now</button>
  </div>
  <!-- ===== BUNDLES CARDS END ===== -->

  <!-- ===== MINUTES CARDS START ===== -->
   <div class="card one" data-category="minutes">
    <div class="badge">MOST POPULAR</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>51 MINS </h2>
    <p>Price: Ksh.<strong>48</strong></p>
    <div class="validity">‚è± Valid: <strong>24hrs</strong></div>
    <button onclick="openPhonePopup('51 MINS', 48)">Buy Now</button>
  </div>
  <div class="card three" data-category="minutes">
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>800 MINS</h2>
    <p>Price: Ksh.1200</p>
    <div class="validity">‚è± Valid: <strong>30 days</strong></div>
    <button onclick="openPhonePopup('800 MINS', 1200)">Buy Now</button>
  </div>
  <div class="card four" data-category="minutes">
    <div class="badge">MOST POPULAR</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>100 MINS</h2>
    <p>Price: Ksh.<strong>55</strong></p>
    <div class="validity">‚è± Valid: <strong>24hrs</strong></div>
    <button onclick="openPhonePopup('100 MINS', 55)">Buy Now</button>
  </div> 
  <div class="card five" data-category="minutes">
    <div class="badge">MOST POPULAR</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>20 MINS</h2>
    <p>Price: Ksh.<strong>10</strong></p>
    <div class="validity">‚è± Valid: <strong>1hr</strong></div>
    <button onclick="openPhonePopup('20 MINS', 10)">Buy Now</button>
  </div>
   <div class="card seven" data-category="minutes">
    <div class="badge">MOST POPULAR</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>48 MINS</h2>
    <p>Price: Ksh.<strong>20</strong></p>
    <div class="validity">‚è± Valid: <strong>3hrs</strong></div>
    <button onclick="openPhonePopup('48 MINS', 20)">Buy Now</button>
  </div>
   <div class="card six" data-category="minutes">
    <div class="badge">MOST POPULAR</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>30 MINS</h2>
    <p>Price: Ksh.<strong>5</strong></p>
    <div class="validity">‚è± Valid: <strong>1hrs</strong></div>
    <button onclick="openPhonePopup('30', 5)">Buy Now</button>
  </div>
  <!-- ===== MINUTES CARDS END ===== -->

  <!-- ===== SMS CARDS START ===== -->
  <div class="card four" data-category="sms">
    <div class="badge">POPULAR NOW</div>
    <img src="https://public-files-paystack-prod.s3.eu-west-1.amazonaws.com/integration-logos/rssmtvcf4bathncmrv37.jpeg" alt="Bundle Image" />
    <h2>200SMS</h2>
    <p>Price: Ksh.10</p>
    <div class="validity">‚è± Valid: <strong>24hrs</strong></div>
    <button onclick="openPhonePopup('200SMS', 10)">Buy Now</button>
  </div>

  <div class="card five" data-category="sms">
    <div class="badge">BEST CHOICE</div>
    <img src="https://public-files-payst
  </main> 
 <!-- Popup -->  <div class="popup-overlay" id="popupOverlay">
    <div class="popup">
      <h3>Enter Payment Details</h3>
      <input type="text" id="popupPhone" placeholder="MPESA Number (2547...)" maxlength="12">
      <input type="hidden" id="popupAmount">
      <input type="hidden" id="popupTitle">
      <button id="submitPayment">Pay Now</button>
      <button class="cancel" onclick="closePopup()">Cancel</button>
    </div>
  </div>  <!-- Custom Confirm -->  <div id="customConfirmOverlay">
    <div id="customConfirmBox">
      <h3>Confirm Your Purchase</h3>
      <div id="confirmDetails"></div>
      <button class="confirm-yes">Proceed to Pay</button>
      <button class="confirm-no">Cancel</button>
    </div>
  </div>  <footer>
    &copy; <span id="year"></span> Quicktel. All rights reserved.
    <p>
      <a href="terms.html">Terms & Conditions</a> |
      <a href="privacy.html">Privacy Policy</a> |
      <a href="https://samuwa-educanews.onrender.com/contac.html" target="_blank">Support</a>
    </p>
  </footer>  <script>
    document.addEventListener('contextmenu', e => e.preventDefault());

    const hamburger = document.getElementById('hamburger');
    const menu = document.querySelector('.menu');
    hamburger.addEventListener('click', () => menu.classList.toggle('show'));

    const popupOverlay = document.getElementById("popupOverlay");
    const phoneInput = document.getElementById("popupPhone");
    const amountInput = document.getElementById("popupAmount");
    const titleInput = document.getElementById("popupTitle");
    const submitBtn = document.getElementById("submitPayment");

    const confirmOverlay = document.getElementById("customConfirmOverlay");
    const confirmDetails = document.getElementById("confirmDetails");
    const confirmYesBtn = document.querySelector(".confirm-yes");
    const confirmNoBtn = document.querySelector(".confirm-no");

    function customConfirm(product, amount) {
      return new Promise((resolve) => {
        confirmDetails.innerHTML = `üì¶ <strong>${product}</strong><br>üí∞ Amount: <strong>KES ${amount}</strong>`;
        confirmOverlay.style.display = 'flex';
        confirmYesBtn.onclick = () => { confirmOverlay.style.display = 'none'; resolve(true); };
        confirmNoBtn.onclick = () => { confirmOverlay.style.display = 'none'; resolve(false); };
      });
    }

    async function openPhonePopup(product, amount) {
      const confirmPurchase = await customConfirm(product, amount);
      if (!confirmPurchase) return;
      phoneInput.value = '';
      amountInput.value = amount;
      titleInput.value = product;
      popupOverlay.classList.add("active");
    }

    function closePopup() {
      popupOverlay.classList.remove("active");
    }

    submitBtn.addEventListener("click", async () => {
      const phone = phoneInput.value.trim();
      const amount = amountInput.value;
      const product = titleInput.value;

      if (!/^254\d{9}$/.test(phone)) {
        alert("‚ùå Please enter a valid Safaricom number starting with 254...");
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'Processing...';

      try {
        const response = await fetch("/process-payment", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ phone, amount, product })
        });

        const result = await response.json();

        if (response.ok) {
          alert(`‚úÖ Payment initiated successfully! Transaction ID: ${result.transactionId || 'N/A'}`);
          closePopup();
        } else {
          alert(`‚ùå Payment failed: ${result.message || 'Unknown error'}`);
        }
      } catch (error) {
        alert(`‚ö†Ô∏è Error connecting to server: ${error.message}`);
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Pay Now';
      }
    });
  </script></body>
</html>